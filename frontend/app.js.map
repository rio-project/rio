{"version":3,"sources":["text.ts","row.ts","column.ts","rectangle.ts","stack.ts","margin.ts","align.ts","button.ts","mouse_event_listener.ts","app.ts"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"","sourcesContent":["import { JsonText } from \"./models\";\nimport { colorToCss } from \"./app\";\n\nexport class TextWidget {\n    static build(data: JsonText): HTMLElement {\n        let element = document.createElement('div');\n        return element;\n    }\n\n    static update(element: HTMLElement, deltaState: JsonText): void {\n        if (deltaState.text !== undefined) {\n            element.innerText = deltaState.text;\n        }\n\n        if (deltaState.multiline !== undefined) {\n            element.style.whiteSpace = deltaState.multiline ? 'normal' : 'nowrap';\n        }\n\n        if (deltaState.font !== undefined) {\n            element.style.fontFamily = deltaState.font;\n        }\n\n        if (deltaState.font_color !== undefined) {\n            element.style.color = colorToCss(deltaState.font_color);\n        }\n\n        if (deltaState.font_size !== undefined) {\n            element.style.fontSize = deltaState.font_size + 'em';\n        }\n\n        if (deltaState.font_weight !== undefined) {\n            element.style.fontWeight = deltaState.font_weight;\n        }\n\n        if (deltaState.italic !== undefined) {\n            element.style.fontStyle = deltaState.italic ? 'italic' : 'normal';\n        }\n\n        if (deltaState.underlined !== undefined) {\n            element.style.textDecoration = deltaState.underlined\n                ? 'underline'\n                : 'none';\n        }\n    }\n}","import { buildWidget } from \"./app\";\nimport { JsonRow } from \"./models\";\n\n\nexport class RowWidget {\n    static build(data: JsonRow): HTMLElement {\n        let element = document.createElement('div');\n        element.classList.add('pygui-row');\n\n        for (const child of data.children) {\n            element.appendChild(buildWidget(child));\n        }\n\n        return element;\n    }\n\n    static update(element: HTMLElement, deltaState: JsonRow): void { }\n}","import { buildWidget } from \"./app\";\nimport { JsonColumn } from \"./models\";\n\nexport class ColumnWidget {\n    static build(data: JsonColumn): HTMLElement {\n        let element = document.createElement('div');\n        element.classList.add('pygui-column');\n\n        for (const child of data.children) {\n            element.appendChild(buildWidget(child));\n        }\n\n        return element;\n    }\n\n    static update(element: HTMLElement, deltaState: JsonColumn): void { }\n}\n","import { fillToCss } from \"./app\";\nimport { JsonRectangle } from \"./models\";\n\nexport class RectangleWidget {\n    static build(data: JsonRectangle): HTMLElement {\n        let element = document.createElement('div');\n        element.classList.add('pygui-rectangle');\n        return element;\n    }\n\n    static update(element: HTMLElement, deltaState: JsonRectangle): void {\n        if (deltaState.fill !== undefined) {\n            element.style.background = fillToCss(deltaState.fill);\n        }\n\n        if (deltaState.cornerRadius !== undefined) {\n            const [topLeft, topRight, bottomRight, bottomLeft] =\n                deltaState.cornerRadius;\n            element.style.borderRadius = `${topLeft}em ${topRight}em ${bottomRight}em ${bottomLeft}em`;\n        }\n    }\n}","import { buildWidget } from \"./app\";\nimport { JsonStack } from \"./models\";\n\nexport class StackWidget {\n    static build(data: JsonStack): HTMLElement {\n        let element = document.createElement('div');\n        element.classList.add('pygui-stack');\n\n        for (let ii = 0; ii < data.children.length; ii++) {\n            const childElement = buildWidget(data.children[ii]);\n            childElement.style.zIndex = `${ii + 1}`;\n            element.appendChild(childElement);\n        }\n\n        return element;\n    }\n\n    static update(element: HTMLElement, deltaState: JsonStack): void { }\n\n}","import { buildWidget } from \"./app\";\nimport { JsonMargin } from \"./models\";\n\nexport class MarginWidget {\n\n    static build(widget: JsonMargin): HTMLElement {\n        let element = document.createElement('div');\n        element.appendChild(buildWidget(widget.child));\n        return element;\n    }\n\n    static update(element: HTMLElement, state: JsonMargin): void {\n        if (state.margin !== undefined) {\n            element.style.marginLeft   = `${state.margin[0]}em`;\n            element.style.marginTop    = `${state.margin[1]}em`;\n            element.style.marginRight  = `${state.margin[2]}em`;\n            element.style.marginBottom = `${state.margin[3]}em`;\n        }\n    }\n}","import { buildWidget } from \"./app\";\nimport { JsonAlign } from \"./models\";\n\nexport class AlignWidget {\n    static build(data: JsonAlign): HTMLElement {\n        let element = document.createElement('div');\n        element.appendChild(buildWidget(data.child));\n        return element;\n    }\n\n    static update(element: HTMLElement, state: JsonAlign): void {\n        if (state.align_x !== undefined) {\n            if (state.align_x === null) {\n                element.style.justifyContent = 'unset';\n            } else {\n                element.style.justifyContent = state.align_x * 100 + '%';\n            }\n        }\n\n        if (state.align_y !== undefined) {\n            if (state.align_y === null) {\n                element.style.alignItems = 'unset';\n            } else {\n                element.style.alignItems = state.align_y * 100 + '%';\n            }\n        }\n    }\n}","import { JsonButton } from \"./models\";\nimport { sendEvent } from \"./app\";\n\nexport class ButtonWidget {\n    static build(data: JsonButton): HTMLElement {\n        let element = document.createElement('button');\n        element.type = 'button';\n\n        element.onclick = (() => {\n            sendEvent(element, 'buttonPressedEvent', {});\n        });\n\n        return element;\n    }\n\n    static update(element: HTMLElement, deltaState: JsonButton): void {\n        if (deltaState.text !== undefined) {\n            element.textContent = deltaState.text;\n        }\n    }\n}","import { JsonMouseEventListener } from './models';\nimport { buildWidget, pixelsPerEm, sendEvent } from './app';\n\nfunction eventMouseButtonToString(event: any): object {\n    return {\n        button: ['left', 'middle', 'right'][event.button],\n    };\n}\n\nfunction eventMousePositionToString(event: any): object {\n    return {\n        x: event.clientX / pixelsPerEm,\n        y: event.clientY / pixelsPerEm,\n    };\n}\n\nexport class MouseEventListener {\n    static build(data: JsonMouseEventListener): HTMLElement {\n        let element = document.createElement('div');\n        element.appendChild(buildWidget(data.child));\n        return element;\n    }\n\n    static update(\n        element: HTMLElement,\n        deltaState: JsonMouseEventListener\n    ): void {\n        if (deltaState.reportMouseDown) {\n            element.onmousedown = (e) => {\n                sendEvent(element, 'mouseDownEvent', {\n                    ...eventMouseButtonToString(e),\n                    ...eventMousePositionToString(e),\n                });\n            };\n        } else {\n            element.onmousedown = null;\n        }\n\n        if (deltaState.reportMouseUp) {\n            element.onmouseup = (e) => {\n                sendEvent(element, 'mouseUpEvent', {\n                    ...eventMouseButtonToString(e),\n                    ...eventMousePositionToString(e),\n                });\n            };\n        } else {\n            element.onmouseup = null;\n        }\n\n        // TODO\n    }\n}\n","import { TextWidget } from './text';\nimport { RowWidget } from './row';\nimport { ColumnWidget } from './column';\nimport { RectangleWidget } from './rectangle';\nimport { StackWidget } from './stack';\nimport { MarginWidget } from './margin';\nimport { AlignWidget } from './align';\nimport { Color, Fill, JsonWidget } from './models';\nimport { ButtonWidget } from './button';\nimport { MouseEventListener } from './mouse_event_listener';\n\nconst initialMessages = '{initial_messages}';\nvar socket: WebSocket | null = null;\nexport var pixelsPerEm = 16;\n\nexport function colorToCss(color: Color): string {\n    const [r, g, b, a] = color;\n    return `rgba(${r * 255}, ${g * 255}, ${b * 255}, ${a})`;\n}\n\nexport function fillToCss(fill: Fill): string {\n    // Solid Color\n    if (fill.type === 'solid') {\n        return colorToCss(fill.color);\n    }\n\n    // Linear Gradient\n    if (fill.type === 'linearGradient') {\n        if (fill.stops.length == 1) {\n            return colorToCss(fill.stops[0][0]);\n        }\n\n        let stopStrings: string[] = [];\n        for (let i = 0; i < fill.stops.length; i++) {\n            let color = fill.stops[i][0];\n            let position = fill.stops[i][1];\n            stopStrings.push(`${colorToCss(color)} ${position * 100}%`);\n        }\n\n        return `linear-gradient(${fill.angleDegrees}deg, ${stopStrings.join(\n            ', '\n        )})`;\n    }\n\n    // Invalid fill type\n    throw `Invalid fill type: ${fill}`;\n}\n\nconst widgetClasses = {\n    align: AlignWidget,\n    button: ButtonWidget,\n    column: ColumnWidget,\n    margin: MarginWidget,\n    rectangle: RectangleWidget,\n    row: RowWidget,\n    stack: StackWidget,\n    text: TextWidget,\n    mouseEventListener: MouseEventListener,\n};\n\nexport function buildWidget(widget: JsonWidget): HTMLElement {\n    // Get the class for this widget\n    const widgetClass = widgetClasses[widget.type];\n\n    // Make sure the widget type is valid (Just helpful for debugging)\n    if (!widgetClass) {\n        throw `Encountered unknown widget type: ${widget.type}`;\n    }\n\n    // Build the widget\n    const result = widgetClass.build(widget as any);\n\n    // Add a unique ID to the widget\n    result.id = 'pygui-id-' + widget.id;\n\n    // Store the widget's type in the element. This is used by the update\n    // function to determine the correct update function to call.\n    result.setAttribute('data-pygui-type', widget.type);\n\n    // Update the widget to match its state\n    widgetClass.update(result, widget as any);\n\n    return result;\n}\n\nfunction processMessage(message: any) {\n    if (message.type == 'replaceWidgets') {\n        // Clear any previous widgets\n        let body = document.getElementsByTagName('body')[0];\n        body.innerHTML = '';\n\n        // Build the HTML document\n        body.appendChild(buildWidget(message.widget));\n    } else {\n        throw `Encountered unknown message type: ${message}`;\n    }\n}\n\nfunction main() {\n    // Determine the browser's font size\n    var measure = document.createElement('div');\n    measure.style.height = '10em';\n    document.body.appendChild(measure);\n    pixelsPerEm = measure.offsetHeight / 10;\n    document.body.removeChild(measure);\n\n    // Process initial messages\n    console.log(`Processing ${initialMessages.length} initial message(s)`);\n    for (let message of initialMessages) {\n        processMessage(message);\n    }\n\n    // Connect to the websocket\n    var url = new URL('/ws', window.location.href);\n    url.protocol = url.protocol.replace('http', 'ws');\n    console.log(`Connecting websocket to ${url.href}`);\n    socket = new WebSocket(url.href);\n\n    socket.addEventListener('open', onOpen);\n    socket.addEventListener('message', onMessage);\n    socket.addEventListener('error', onError);\n    socket.addEventListener('close', onClose);\n}\n\nfunction onOpen() {\n    console.log('Connection opened');\n}\n\nfunction onMessage(event: any) {\n    // Parse the message JSON\n    let message = JSON.parse(event.data);\n\n    // Handle it\n    processMessage(message);\n}\n\nfunction onError(event: any) {\n    console.log(`Error: ${event.message}`);\n}\n\nfunction onClose(event: any) {\n    console.log(`Connection closed: ${event.reason}`);\n}\n\nexport function sendJson(message: object) {\n    if (!socket) {\n        console.log(\n            `Attempted to send message, but the websocket is not connected: ${message}`\n        );\n        return;\n    }\n\n    socket.send(JSON.stringify(message));\n}\n\nexport function sendEvent(\n    element: HTMLElement,\n    eventType: string,\n    eventArgs: object\n) {\n    sendJson({\n        type: eventType,\n        // Remove the leading `pygui-id-` from the element's ID\n        widgetId: parseInt(element.id.substring(9)),\n        ...eventArgs,\n    });\n}\n\nmain();\n"]}